<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Earn & Learn â€” My Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Baloo+2:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="child.css">
</head>
<body>

  <div class="kid-topbar">
    <div class="kid-logo">Earn <span>&</span> Learn ğŸ®</div>
    <div class="kid-points-pill">ğŸŒŸ <span id="kid-points-display">0</span> pts</div>
    <button class="btn-logout" onclick="logout()">Logout</button>
  </div>

  <div class="kid-main">

    <!-- Hero -->
    <div class="kid-hero animate-in">
      <div>
        <div class="kid-hero-title" id="kid-hero-title">Hey Champ! ğŸ‘‹</div>
        <div class="kid-hero-sub">Complete tasks to earn points. Save them to grow richer!</div>
        <div style="margin-top:16px;">
          <span class="kid-id-badge">ID: <span id="kid-id-display">â€”</span></span>
        </div>
      </div>
      <div class="kid-hero-coin">ğŸª™</div>
    </div>

    <!-- Tab Navigation -->
    <div class="kid-tabs">
      <button class="kid-tab active" onclick="switchTab('tasks',this)">ğŸ“‹ My Tasks</button>
      <button class="kid-tab" onclick="switchTab('recurring',this)">ğŸ” Recurring</button>
      <button class="kid-tab" onclick="switchTab('stats',this)">ğŸ“Š My Stats</button>
    </div>

    <!-- TASKS TAB -->
    <div class="kid-tab-panel active" id="tab-tasks">
      <div class="kid-two-col">
        <div>
          <div class="kid-card">
            <div class="kid-card-title">âš¡ One-Off Tasks</div>
            <div id="kid-tasks-list"></div>
          </div>
        </div>
        <div>
          <div class="bank-widget">
            <div class="bank-label">ğŸ’° My Savings Bank</div>
            <div class="bank-amount" id="kid-savings-display">â‚¹0.00</div>
            <div class="bank-rate" id="kid-rate-display">+5% Monthly Interest</div>
          </div>
          <div class="kid-card kid-progress-card">
            <div class="kid-card-title" style="justify-content:center;">ğŸ”¥ Progress</div>
            <div class="big-circle" id="kid-progress-circle">
              <div class="big-circle-inner" id="kid-progress-num">0/0</div>
            </div>
            <div class="streak-label" id="kid-streak-label">Keep going!</div>
          </div>
        </div>
      </div>
    </div>

    <!-- RECURRING TAB -->
    <div class="kid-tab-panel" id="tab-recurring">
      <div class="kid-card">
        <div class="kid-card-title">ğŸ” Recurring Chores</div>
        <p style="font-size:13px;color:#aaa;margin-bottom:14px;">These repeat every day / week / month automatically.</p>
        <div id="kid-recurring-list"></div>
      </div>
    </div>

    <!-- STATS TAB -->
    <div class="kid-tab-panel" id="tab-stats">
      <div class="kid-two-col">
        <div>
          <!-- Achievement badges -->
          <div class="kid-card">
            <div class="kid-card-title">ğŸ… Achievements</div>
            <div id="kid-achievements"></div>
          </div>
          <!-- History -->
          <div class="kid-card">
            <div class="kid-card-title">ğŸ“œ History</div>
            <div id="kid-history-list"></div>
          </div>
        </div>
        <div>
          <!-- Stat summary -->
          <div class="kid-card">
            <div class="kid-card-title">ğŸ“Š My Numbers</div>
            <div id="kid-stat-numbers"></div>
          </div>
          <!-- Mini leaderboard -->
          <div class="kid-card">
            <div class="kid-card-title">ğŸ† Family Rank</div>
            <div id="kid-leaderboard"></div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- TASK DETAIL MODAL -->
  <div class="modal-overlay" id="kid-task-detail-modal">
    <div class="modal">
      <div class="modal-title" id="kid-detail-title"></div>
      <div id="kid-detail-body"></div>
      <div style="margin-top:20px;display:flex;gap:10px;">
        <button class="kid-btn-secondary" onclick="closeModal('kid-task-detail-modal')">Close</button>
        <button class="kid-btn-primary" id="kid-detail-submit-btn" onclick="submitFromDetail()" style="display:none;">Mark as Done âœ“</button>
      </div>
    </div>
  </div>

  <!-- PAYDAY MODAL -->
  <div class="modal-overlay" id="kid-payday-overlay">
    <div class="modal">
      <div class="modal-title">ğŸ‰ It's Payday!</div>
      <div class="modal-sub">You earned this month. What do you want to do?</div>
      <div class="payday-sub">Total Points Earned</div>
      <div class="payday-amount" id="kid-payday-points">0 pts</div>
      <div class="payday-value" id="kid-payday-value">= â‚¹0.00</div>
      <div class="payday-choice">
        <div class="payday-btn" onclick="kidPaydayChoice('cashout')">
          <div class="pb-icon">ğŸ’µ</div>
          <div class="pb-label">Cash Out</div>
          <div class="pb-sub">Get real money from parents</div>
        </div>
        <div class="payday-btn" onclick="kidPaydayChoice('save')">
          <div class="pb-icon">ğŸ¦</div>
          <div class="pb-label">Send to Bank</div>
          <div class="pb-sub">Earn <span id="modal-interest-rate">5</span>% interest!</div>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>
  <script src="child.js"></script>
</body>
</html>